import{j as e,l as W,S as I,P as z,m as j,W as N,i as w}from"./ui-vendor-k1DUerhC.js";import{r as l}from"./react-vendor-DrRc5Ab8.js";import{D as E,e as B,B as d,a as F,b as M,c as P,d as V,I as o,S as A,f as H,g as K,h as O,i as y,j as q,s as m}from"./index-BmCEqgsS.js";function Q(){const[R,S]=l.useState(!1),[r,n]=l.useState([]),[c,h]=l.useState(""),[g,k]=l.useState("small"),[u,p]=l.useState("10"),C=()=>{n(q())},f=()=>{if(c.trim()){const s=Number.parseInt(u)||1,t={id:Date.now().toString(),text:c.trim(),type:g,weight:Math.max(1,s)},a=[...r,t];n(a),m(a),h(""),p("10")}},v=s=>{const t=r.filter(a=>a.id!==s);n(t),m(t)},b=(s,t)=>{const a=r.map(x=>x.id===s?{...x,weight:Math.max(1,t)}:x);n(a),m(a)},i=r.reduce((s,t)=>s+t.weight,0),D=r.filter(s=>s.type==="small").reduce((s,t)=>s+t.weight,0),T=r.filter(s=>s.type==="super").reduce((s,t)=>s+t.weight,0);return e.jsxs(E,{open:R,onOpenChange:s=>{S(s),s&&C()},children:[e.jsx(B,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"icon",className:"rounded-xl hover-lift border-border/50 bg-background/50 backdrop-blur-sm",children:e.jsx(W,{className:"h-5 w-5"})})}),e.jsxs(F,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto glass-card border-0",children:[e.jsxs(M,{children:[e.jsxs(P,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(I,{className:"h-6 w-6 text-primary"}),"å¥–åŠ±åº“ç®¡ç†"]}),e.jsx(V,{className:"text-base",children:"ç¼–è¾‘å¥–åŠ±å†…å®¹å’Œæƒé‡ï¼Œæƒé‡è¶Šé«˜è§¦å‘æ¦‚çŽ‡è¶Šå¤§"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 rounded-xl bg-gradient-to-br from-primary/5 to-primary/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"å°å¥–åŠ±æ¦‚çŽ‡"}),e.jsxs("div",{className:"text-lg font-bold text-primary",children:[i>0?(D/i*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"è¶…çº§å¤§å¥–æ¦‚çŽ‡"}),e.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:[i>0?(T/i*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"æ€»æƒé‡"}),e.jsx("div",{className:"text-lg font-bold",children:i})]})]}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"flex gap-3 p-1.5 rounded-xl border-2 border-border/50 bg-background/50 backdrop-blur-sm",children:[e.jsx(o,{value:c,onChange:s=>h(s.target.value),placeholder:"è¾“å…¥å¥–åŠ±å†…å®¹...",className:"flex-1 border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),f())}}),e.jsx(o,{type:"number",value:u,onChange:s=>p(s.target.value),placeholder:"æƒé‡",className:"w-20 border-0 bg-secondary/50 focus-visible:ring-0 focus-visible:ring-offset-0",min:"1"}),e.jsxs(A,{value:g,onValueChange:s=>k(s),children:[e.jsx(H,{className:"w-32 border-0 bg-secondary/50 hover:bg-secondary focus:ring-0 focus:ring-offset-0 rounded-lg",children:e.jsx(K,{})}),e.jsxs(O,{children:[e.jsx(y,{value:"small",children:"âœ¨ å°å¥–åŠ±"}),e.jsx(y,{value:"super",children:"ðŸŽ‰ è¶…çº§å¤§å¥–"})]})]}),e.jsx(d,{onClick:f,size:"icon",className:"rounded-lg",children:e.jsx(z,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"å°å¥–åŠ±"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-border to-transparent"})]}),e.jsx("div",{className:"space-y-2",children:r.filter(s=>s.type==="small").map((s,t)=>e.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},className:"flex items-center gap-3 p-3 rounded-xl border bg-card/50 backdrop-blur-sm hover-lift group",children:[e.jsx("span",{className:"flex-1 text-sm font-medium",children:s.text}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(N,{className:"h-3 w-3 text-muted-foreground"}),e.jsx(o,{type:"number",value:s.weight,onChange:a=>b(s.id,Number.parseInt(a.target.value)||1),className:"w-16 h-8 text-xs text-center",min:"1"})]}),e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>v(s.id),className:"h-8 w-8 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",children:e.jsx(w,{className:"h-4 w-4"})})]},s.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"è¶…çº§å¤§å¥–"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-border to-transparent"})]}),e.jsx("div",{className:"space-y-2",children:r.filter(s=>s.type==="super").map((s,t)=>e.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},className:"flex items-center gap-3 p-3 rounded-xl border bg-gradient-to-br from-yellow-500/5 to-orange-500/5 backdrop-blur-sm hover-lift group",children:[e.jsx("span",{className:"flex-1 text-sm font-semibold",children:s.text}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(N,{className:"h-3 w-3 text-muted-foreground"}),e.jsx(o,{type:"number",value:s.weight,onChange:a=>b(s.id,Number.parseInt(a.target.value)||1),className:"w-16 h-8 text-xs text-center",min:"1"})]}),e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>v(s.id),className:"h-8 w-8 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-destructive/10 hover:text-destructive transition-all",children:e.jsx(w,{className:"h-4 w-4"})})]},s.id))})]})]})]})]})}export{Q as default};
